import os
from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes

# –ö–æ–º–∞–Ω–¥–∞ /video
async def video_intro(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # –°–æ–æ–±—â–µ–Ω–∏–µ 1
    await update.message.reply_text(
        "üé¨ *–°—Ç–∞–Ω—å –ë–ª–∏–∂–µ*: —è—Ä–∫–∏–µ —ç–º–æ—Ü–∏–∏, —Ç–µ–ø–ª–æ–µ –æ–±—â–µ–Ω–∏–µ –∏ –º—É–∑—ã–∫–∞, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è —Å–µ—Ä–¥—Ü–∞!\n\n"
        "–ú–µ—á—Ç–∞–µ—Ç–µ –æ –∫—Ä–µ–ø–∫–æ–π —Å–≤—è–∑–∏ —Å–æ —Å–≤–æ–∏–º —Ä–µ–±—ë–Ω–∫–æ–º, –∞ –æ–Ω —Å–∏–¥–∏—Ç –≤ –≥–∞–¥–∂–µ—Ç–∞—Ö?\n"
        "–•–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ, —á—Ç–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Å –≤–∞–º–∏ –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å?\n\n"
        "–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã –∏ –≤–∞—à —Ä–µ–±—ë–Ω–æ–∫ –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ç—É–¥–∏–∏, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç–µ –ø–µ—Å–Ω—é, "
        "–∞ –ø–æ—Ç–æ–º —Å–Ω–∏–º–∞–µ—Ç–µ –∫–ª–∏–ø! –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ, –∞ –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–æ–≤–º–µ—Å—Ç–Ω—ã–π –æ–ø—ã—Ç.",
        parse_mode="Markdown"
    )

    # –°–æ–æ–±—â–µ–Ω–∏–µ 2 ‚Äî –≤–∏–¥–µ–æ
    try:
        with open("intro.mp4", "rb") as video:
            await update.message.reply_video(
                video=video,
                caption="‚¨ÜÔ∏è –≠—Ç–æ –∫—Ä–∞—Ç–∫–æ–µ –≤–∏–¥–µ–æ –æ –ø—Ä–æ–µ–∫—Ç–µ *¬´–°—Ç–∞–Ω—å –ë–ª–∏–∂–µ¬ª*",
                parse_mode="Markdown"
            )
    except FileNotFoundError:
        await update.message.reply_text("‚ö†Ô∏è –í–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª intro.mp4 –∑–∞–≥—Ä—É–∂–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.")

    # –°–æ–æ–±—â–µ–Ω–∏–µ 3 ‚Äî –¥–ª—è –∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç
    await update.message.reply_text(
        "*–ü—Ä–æ–µ–∫—Ç ¬´–°—Ç–∞–Ω—å –ë–ª–∏–∂–µ¬ª –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥–æ–π–¥—ë—Ç –¥–ª—è:*\n"
        "‚Ä¢ üë®‚Äçüë©‚Äçüëß –†–æ–¥–∏—Ç–µ–ª–µ–π –∏ –¥–µ—Ç–µ–π-–ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤ ‚Äî —Å–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Å–µ–º–µ–π–Ω—ã–π —à–µ–¥–µ–≤—Ä\n"
        "‚Ä¢ üíë –ü–∞—Ä ‚Äî –∑–∞–ø–∏—à–∏—Ç–µ –ø–µ—Å–Ω—é, –æ—Ç—Ä–∞–∂–∞—é—â—É—é –≤–∞—à—É –ª—é–±–æ–≤—å –∏ –∏—Å—Ç–æ—Ä–∏—é\n"
        "‚Ä¢ üë• –ö–æ–ª–ª–µ–∫—Ç–∏–≤–æ–≤ ‚Äî —Å–¥–µ–ª–∞–π—Ç–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –¥—É—à–æ–π –∏ –∫—Ä–µ–∞—Ç–∏–≤–æ–º",
        parse_mode="Markdown"
    )

    # –°–æ–æ–±—â–µ–Ω–∏–µ 4 ‚Äî –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
    await update.message.reply_text(
        "*–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*\n"
        "‚Ä¢ ‚ù§Ô∏è –ù–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ —Ç—ë–ø–ª—ã–µ —ç–º–æ—Ü–∏–∏: –¥—É—à–µ–≤–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ\n"
        "‚Ä¢ üéß –õ—É—á—à–µ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∑–≤—É–∫\n"
        "‚Ä¢ üéâ –£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è: —Å–¥–µ–ª–∞–π—Ç–µ –≤—ã—Ö–æ–¥–Ω–æ–π –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º\n"
        "‚Ä¢ üé¨ –ö–ª–∏–ø –Ω–∞ –ø–∞–º—è—Ç—å: –≤—Å—ë –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ",
        parse_mode="Markdown"
    )

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
app = ApplicationBuilder().token(os.getenv("TOKEN")).build()
app.add_handler(CommandHandler("video", video_intro))
app.run_polling()
